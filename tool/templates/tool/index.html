{% load static %}

<link rel="stylesheet" type="text/css" href="{% static 'tool/bootstrap.min.css' %}" />
<link rel="stylesheet" type="text/css" href="{% static 'tool/style.css' %}" />
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script type="text/javascript">
    google.load("visualization", "1", {packages:["corechart"]});
</script>

<h1>Upload Marks</h1>

{{ chart.as_html }}

{% if mark_list %}
    <h4>Marks</h4>
    <table>
      <tr>
        <th>Student Code</th>
        <th>Mark</th>
        <th>Date</th>
      </tr>
    {% for mark in mark_list %}
      {% if forloop.counter|divisibleby:2 %}
        <tr>
      {% else %}
        <tr class="alt">
      {% endif %}
        <td>{{ mark.student }}</td>
        <td>{{ mark.mark }}</td>
        <td>{{ mark.date }}</td>
      </tr>
    {% endfor %}
    </table>
    <br>
{% else %}
    <p>No marks are available.</p>
{% endif %}

{% if error_message %}
  <p>{{ error_message }}</p>
{% endif %}

<form action="{% url 'tool:upload' %}" method="POST" enctype="multipart/form-data">
  {% csrf_token %}
  <!-- pretty file-upload -->
  <label class="btn btn-default">
    Upload CSV <input type="file" name="upload-marks" style="display:none;">
  </label>
  <input type="submit" class="btn btn-info" value="Submit">
</form>

